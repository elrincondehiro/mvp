import{b as Q,h as E,a as X,H as W,r as B,s as P,c as m,d as $,e as k,p as U,f as w,E as se,i as te,g as Z,I as S,j as z,k as le,l as fe,m as ue,n as j,o as G,q as ie,t as oe,u as ve,v as ce,w as de,x as _e,y as pe,z as he,A as V,B as be,C as ge,D as x,F as ee,G as Ee,J as ye,K as xe,L as A,M as Te,N as D,O as q,P as N,Q as F,R as Ie,S as R,T as we,U as L}from"./render.DrD4ENwZ.js";import{c as Ae}from"./cartStore.2GLpkHHr.js";/* empty css                       */const me="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(me);function J(s,e,r,n=null,o=!1){E&&X();var t=s,u=null,c=null,l=null,p=o?se:0;Q(()=>{if(l===(l=!!e()))return;let a=!1;if(E){const _=t.data===W;l===_&&(t=B(),P(t),m(!1),a=!0)}l?(u?$(u):u=k(()=>r(t)),c&&U(c,()=>{c=null})):(c?$(c):n&&(c=k(()=>n(t))),u&&U(u,()=>{u=null})),a&&m(!0)},p),E&&(t=w)}let O=null;function Ce(s,e){return e}function Ne(s,e,r,n){for(var o=[],t=e.length,u=0;u<t;u++)oe(e[u].e,o,!0);var c=t>0&&o.length===0&&r!==null;if(c){var l=r.parentNode;ve(l),l.append(r),n.clear(),T(s,e[0].prev,e[t-1].next)}ce(o,()=>{for(var p=0;p<t;p++){var a=e[p];c||(n.delete(a.k),T(s,a.prev,a.next)),de(a.e,!c)}})}function Re(s,e,r,n,o,t=null){var u=s,c={flags:e,items:new Map,first:null};E&&X();var l=null,p=!1;Q(()=>{var a=r(),_=te(a)?a:a==null?[]:Z(a),f=_.length;if(p&&f===0)return;p=f===0;let d=!1;if(E){var v=u.data===W;v!==(f===0)&&(u=B(),P(u),m(!1),d=!0)}if(E){for(var g=null,b,i=0;i<f;i++){if(w.nodeType===8&&w.data===_e){u=w,d=!0,m(!1);break}var h=_[i],C=n(h,i);b=ae(w,c,g,null,h,C,i,o,e),c.items.set(C,b),g=b}f>0&&P(B())}if(!E){var I=pe;Se(_,c,u,o,e,(I.f&S)!==0,n)}t!==null&&(f===0?l?$(l):l=k(()=>t(u)):l!==null&&U(l,()=>{l=null})),d&&m(!0),r()}),E&&(u=w)}function Se(s,e,r,n,o,t,u){var c=s.length,l=e.items,p=e.first,a=p,_,f=null,d=[],v=[],g,b,i,h;for(h=0;h<c;h+=1){if(g=s[h],b=u(g,h),i=l.get(b),i===void 0){var C=a?a.e.nodes_start:r;f=ae(C,e,f,f===null?e.first:f.next,g,b,h,n,o),l.set(b,f),d=[],v=[],a=f.next;continue}if($e(i,g,h),i.e.f&S&&$(i.e),i!==a){if(_!==void 0&&_.has(i)){if(d.length<v.length){var I=v[0],y;f=I.prev;var Y=d[0],H=d[d.length-1];for(y=0;y<d.length;y+=1)K(d[y],I,r);for(y=0;y<v.length;y+=1)_.delete(v[y]);T(e,Y.prev,H.next),T(e,f,Y),T(e,H,I),a=I,f=H,h-=1,d=[],v=[]}else _.delete(i),K(i,a,r),T(e,i.prev,i.next),T(e,i,f===null?e.first:f.next),T(e,f,i),f=i;continue}for(d=[],v=[];a!==null&&a.k!==b;)(t||!(a.e.f&S))&&(_??=new Set).add(a),v.push(a),a=a.next;if(a===null)continue;i=a}d.push(i),f=i,a=i.next}if(a!==null||_!==void 0){for(var M=_===void 0?[]:Z(_);a!==null;)(t||!(a.e.f&S))&&M.push(a),a=a.next;var re=M.length;if(re>0){var ne=null;Ne(e,M,ne,l)}}z.first=e.first&&e.first.e,z.last=f&&f.e}function $e(s,e,r,n){le(s.v,e),s.i=r}function ae(s,e,r,n,o,t,u,c,l){var p=O;try{var a=(l&fe)!==0,_=(l&ue)===0,f=a?_?j(o):G(o):o,d=l&ie?G(u):u,v={i:d,v:f,k:t,a:null,e:null,prev:r,next:n};return O=v,v.e=k(()=>c(s,f,d),E),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?e.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{O=p}}function K(s,e,r){for(var n=s.next?s.next.e.nodes_start:r,o=e?e.e.nodes_start:r,t=s.e.nodes_start;t!==n;){var u=he(t);o.before(t),t=u}}function T(s,e,r){e===null?s.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ke(s,e,r){if(s==null)return e(void 0),V;const n=be(()=>s.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}function De(s,e,r){const n=r[e]??={store:null,source:j(void 0),unsubscribe:V};if(n.store!==s)if(n.unsubscribe(),n.store=s??null,s==null)n.source.v=void 0,n.unsubscribe=V;else{var o=!0;n.unsubscribe=ke(s,t=>{o?n.source.v=t:ee(n.source,t)}),o=!1}return x(n.source)}function He(){const s={};return ge(()=>{for(var e in s)s[e].unsubscribe()}),s}var Me=D('<span class="cart-item svelte-1s7ad7j"> <!></span>'),qe=D('<p>Items en carrito: <!> <span class="cart-total"> </span></p>'),Fe=D("<p>Carrito vacío</p>"),Le=D('<div class="cart-display svelte-1s7ad7j"><!></div>');function Ue(s,e){Ee(e,!1);const r=He(),n=()=>De(Ae,"$cartStore",r),o=we();ye(()=>n(),()=>{ee(o,n())}),xe();var t=Le(),u=N(t);J(u,()=>x(o)&&x(o).items.length>0,c=>{var l=qe(),p=F(N(l));Re(p,1,()=>x(o).items,Ce,(f,d)=>{var v=Me(),g=N(v),b=F(g);J(b,()=>x(d).quantity>=0,i=>{var h=Ie();q(()=>L(h,`(x${x(d).quantity??""})`)),A(i,h)}),R(v),q(()=>L(g,`${x(d).name??""} `)),A(f,v)});var a=F(p,2),_=N(a);q(()=>L(_,`Total: ${x(o).total.toFixed(2)??""} €`)),R(a),R(l),A(c,l)},c=>{var l=Fe();A(c,l)}),R(t),A(s,t),Te()}export{Ue as default};
